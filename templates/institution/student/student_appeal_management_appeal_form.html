{% extends "layouts/base.html" %}

{% block title %}Attendance Appeal{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="card-custom">
        <div class="card-header-custom">
            Attendance Appeal Form
        </div>

        <div class="card-body-custom">
            <form method="POST" action={{ url_for('student.appeal_form_submit', attendance_record_id=attendance_record_id) }}>
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                
                <!-- Student Information -->
                <h5 class="mb-3">Student Details</h5>

                <div class="form-group mb-3">
                    <label for="student_name">Student Name</label>
                    <input 
                        type="text" 
                        class="form-control" 
                        id="student_name" 
                        name="student_name" 
                        value="{{ student_name }}" 
                        readonly
                    >
                </div>

                <div class="form-group mb-3">
                    <label for="student_id">Student ID</label>
                    <input 
                        type="text" 
                        class="form-control" 
                        id="student_id" 
                        name="student_id" 
                        value="{{ student_id }}" 
                        readonly
                    >
                </div>

                <!-- Class Information -->
                <h5 class="mt-4 mb-3">Class Details</h5>

                <div class="form-group mb-3">
                    <label for="module_code">Module Code</label>
                    <input 
                        type="text" 
                        class="form-control" 
                        id="module_code" 
                        name="module_code" 
                        value="{{course_code}}-{{ course_name }}" 
                        readonly
                    >
                </div>

                <div class="form-group mb-3">
                    <label for="class_id">Class ID:</label>
                    <input 
                        type="text" 
                        class="form-control" 
                        id="class_id" 
                        name="class_id" 
                        value="{{class_id}}" 
                        readonly
                    >
                </div>


    
                <!-- Appeal Reason -->
                <h5 class="mt-4 mb-3">Appeal Details</h5>

                <div class="form-group mb-3">
                    <label for="appeal_reason">Reason for Appeal</label>
                    <textarea 
                        class="form-control" 
                        id="appeal_reason" 
                        name="appeal_reason" 
                        rows="5"
                        placeholder="Please explain clearly why you are appealing this attendance record (e.g., medical reason, system error, late arrival with valid justification)."
                        required
                    ></textarea>
                </div>

               

                <!-- Submit -->
                <div class="text-end">
                    <button type="submit" class="btn btn-primary">
                        Submit Appeal
                    </button>
                </div>

            </form>
        </div>
    </div>
</div>
{% endblock %}
